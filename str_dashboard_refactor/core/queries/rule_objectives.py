# -*- coding: utf-8 -*-
"""
STR_RULE_ID -> 객관식(의심거래 유형) 매핑에 사용될 원본 데이터 및 도우미.
queries 폴더 내에서 관리합니다.
"""

# 항목(객관식 라벨) -> 규칙코드 리스트
RULE_OBJECTIVE_DATA = {
    "실명노출 기피 또는 거래에 대한 비밀요구": ["IO035", "IO036", "DX028"],
    "거래에 대한 합당한 답변 불제공 또는 자금출처가 불분명한 거래": [
        "CU001","CU002","CU015","CU016","CU018","CU019","CU020","CU021",
        "CU029","CU039","DX011","DX013","DX030","IO010","IO012","IO018",
        "IO019","IO021","IO022","IO030","IO031"
    ],
    "업력이나 업체규모, 개인능력에 비해 과다한 거래실적": ["CU015","CU016","CU018","CU019","DX013"],
    "의심스러운 동행자 참여거래": ["IO010","IO012","IO013"],
    "불특정다수와의 거래": ["TR001","TR002","IO029","IO030","IO031"],
    "갑작스러운 거래패턴의 변화": ["CU020","CU021","CN001","CN002"],
    "원격지 거래": ["IO017","IO018","IO019","IO021","IO022","IO027"],
    "교환거래": ["IO035","IO036","DX028"],
    "분할거래": ["CU001","CU003","CU014","CU015","IO018","IO019","IO021","IO022"],
    "현금에 집착하는 거래": ["IO017","IO018","IO021"],
    "거액 입금 후 당일 또는 익일 중 인출": ["CU019","IO019","IO022","IO029","IO030","IO031","IO035","IO036"],
    "빈번한 입출금(입출고)": ["CU029","CU039"],
    "금융사고 등 거액횡령이 의심되는 거래": ["CU015","CU016","CU018","CU020","CU021"],
    "타인의 명의 또는 계좌의 이용(다수계좌여부-부)": ["IO027","DX001","DX002"],
    "의심스러운 계약/계좌 해지": ["IO027","DX001","DX002"],
    "단발성 계좌의 이용": [],
}
1

def build_rule_to_objectives():
    """객관식 라벨 -> 코드 리스트를 코드 -> [라벨, ...] 역매핑으로 변환"""
    m = {}
    for label, codes in RULE_OBJECTIVE_DATA.items():
        for code in codes:
            code = code.strip()
            if not code:
                continue
            m.setdefault(code, []).append(label)
    return m
