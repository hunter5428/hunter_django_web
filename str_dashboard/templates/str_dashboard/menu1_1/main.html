{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'str_dashboard/css/components/common.css' %}">
<link rel="stylesheet" href="{% static 'str_dashboard/css/components/modal.css' %}">
{% endblock %}

{% block content %}
<div class="top-row">
    <button class="btn" id="btn-open-db-modal">DB Connection</button>
    <div class="db-status-container">
        {% if db_status == 'ok' %}
            <span id="oracle-status" class="badge ok">Oracle 연결</span>
        {% else %}
            <span id="oracle-status" class="badge">Oracle 미연결</span>
        {% endif %}
        {% if rs_status == 'ok' %}
            <span id="redshift-status" class="badge ok">Redshift 연결</span>
        {% else %}
            <span id="redshift-status" class="badge">Redshift 미연결</span>
        {% endif %}
    </div>
</div>

<div class="query-row">
    <span class="label-chip">ALERT ID</span>
    <input id="alert_id_input" type="text" class="form-input" placeholder="ALERT ID를 입력하세요">
    <button class="btn" id="alert_id_search_btn">조회</button>
</div>

{% include "str_dashboard/menu1_1/modals.html" %} 
{% endblock %}

{% block extra_js %}
<script>
// 전역 URL 설정 (필수 API만 남김)
window.URLS = {
    test_oracle_connection: "{% url 'test_oracle_connection' %}",
    test_redshift_connection: "{% url 'test_redshift_connection' %}",
    query_alert_info: "{% url 'query_alert_info' %}",
};
</script>

{#<script src="{% static 'str_dashboard/js/utils/api_client.js' %}"></script>#}
{#<script src="{% static 'str_dashboard/js/dual_db_manager.js' %}"></script>#}
{#<script src="{% static 'str_dashboard/js/menu1_1.js' %}"></script>#}
{% endblock %}