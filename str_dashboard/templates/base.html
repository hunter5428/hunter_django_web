{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>{% block title %}STR TF APP{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="{% block meta_description %}STR TF Dashboard Application{% endblock %}">
  
  <!-- 기본 스타일 -->
  <link rel="stylesheet" href="{% static 'str_dashboard/css/base.css' %}">
  
  <!-- 페이지별 추가 CSS -->
  {% block extra_css %}{% endblock %}
</head>
<body class="{% if request.COOKIES.sidebar == 'collapsed' %}sidebar-collapsed{% endif %} {% block body_class %}{% endblock %}"
      data-top-menu="{{ active_top_menu|default:'' }}"
      data-sub-menu="{{ active_sub_menu|default:'' }}">
  
  <!-- 헤더 -->
  {% include "base_component/header.html" %}
  
  <!-- 메인 레이아웃 -->
  <div class="app-body">
    <!-- 사이드바 -->
    {% include "base_component/sidebar.html" %}
    
    <!-- 메인 콘텐츠 -->
    <main class="app-main">
      {% block content %}{% endblock %}
    </main>
  </div>

  <!-- 전역 JavaScript 설정 -->
  <script>
    window.APP_CONFIG = {
      debug: {% if debug %}true{% else %}false{% endif %},
      staticUrl: "{{ STATIC_URL }}",
      csrfToken: "{{ csrf_token }}",
      currentUser: "{{ request.user.username|default:'' }}",
      currentTopMenu: "{{ active_top_menu|default:'' }}",
      currentSubMenu: "{{ active_sub_menu|default:'' }}",
      urls: {
        home: "{% url 'home' %}",
        login: "{% url 'login' %}",
        logout: "{% url 'logout' %}"
      }
    };
  </script>

  <!-- 기본 JavaScript -->
  <script src="{% static 'str_dashboard/js/base.js' %}"></script>
  
  <!-- 페이지별 추가 JavaScript -->
  {% block extra_js %}{% endblock %}
</body>
</html>