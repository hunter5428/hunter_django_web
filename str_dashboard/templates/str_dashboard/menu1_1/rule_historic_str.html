<!-- RULE_ID_히스토리 탐색 (person_info 바로 아래) -->
<style>
  #section_rule_hist.section{ margin-top:18px; }
  #section_rule_hist .table-wrap{ margin-top:6px; }
  #section_rule_hist .table{
    width:100%; border-collapse:collapse; border:1px solid #2a2a2a;
    border-radius:12px; overflow:hidden; background:#1a1a1a;
  }
  #section_rule_hist .table th, #section_rule_hist .table td{
    border-bottom:1px solid #2a2a2a; padding:10px 12px; text-align:left; color:#eaeaea;
  }
  #section_rule_hist .table th{ background:#111; color:#bdbdbd; font-weight:700; }
  #section_rule_hist .table tr:hover td{ background:#181818; }
  #section_rule_hist .empty-row{ color:#bdbdbd; padding:16px 12px; }
</style>

<div id="section_rule_hist" class="section" style="display:none;">
  <h3>RULE_ID_히스토리 탐색</h3>
  <div class="table-wrap" id="result_table_rule_hist"></div>
</div>

<script>
  // cols/rows: rule_history_search 결과 (일치행 0~1개)
  window.renderRuleHistorySection = function(cols, rows){
    const section = document.getElementById('section_rule_hist');
    const wrap    = document.getElementById('result_table_rule_hist');
    section.style.display = 'block';

    if (!rows || !rows.length){
      wrap.innerHTML = '<div class="card empty-row">일치하는 히스토리 리스트가 없습니다.</div>';
      return;
    }

    const header = cols;
    const thead  = '<tr>' + header.map(h=>`<th>${h}</th>`).join('') + '</tr>';
    const tbody  = rows.map(r => (
      '<tr>' + r.map(v => `<td>${(v==null)?'':v}</td>`).join('') + '</tr>'
    )).join('');

    wrap.innerHTML = `<table class="table"><thead>${thead}</thead><tbody>${tbody}</tbody></table>`;
  };
</script>
